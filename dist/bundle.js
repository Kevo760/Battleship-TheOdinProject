(()=>{"use strict";class t{constructor(t,e){this.name=t,this.length=e,this.sunk=!1,this.damage={hit:0,position:[]}}hitShip(t){this.damage.hit++,this.damage.position.push(t)}isSunk(){this.length==this.damage.hit&&(this.sunk=!0)}}class e{constructor(){this.board,this.missedShots=[],this.shotsMade=[],this.createBoard()}createBoard(){return this.board=[...Array(10)].map((()=>Array(10).fill(0)))}placeShip(t,e,i,s){if(!this.possiblePlacement(t,e,i,s))return!1;if(s)for(let s=0;s<t.length;s++)this.board[e+s][i]=t;else if(!s)for(let s=0;s<t.length;s++)this.board[e][i+s]=t;return!0}possiblePlacement(t,e,i,s){if(s){for(let s=0;s<t.length;s++)try{for(;0!==this.board[e+s][i];)return!1}catch(t){return!1}return!0}if(!s){for(let s=0;s<t.length;s++)try{for(;0!==this.board[e][i+s];)return!1}catch(t){return!1}return!0}}receiveAttack(t,e){const i=[t,e];return 0==this.alreadyShot(i)&&(0!==this.board[t][e]?(this.board[t][e].hitShip(i),this.board[t][e].isSunk(),this.shotsMade.push(i)):(this.missedShots.push(i),this.shotsMade.push(i)),!0)}alreadyShot(t){return this.shotsMade.some((e=>t.every(((t,i)=>t===e[i]))))}checkAllShipsSunk(){const t=this.isBoatSunk("carrier"),e=this.isBoatSunk("battleship"),i=this.isBoatSunk("cruiser"),s=this.isBoatSunk("submarine"),r=this.isBoatSunk("destroyer");return!!(t&&e&&i&&s&&!0===r)}isBoatSunk(t){const e=this.board;for(let i=0;i<e.length;i++){const s=e[i].find((e=>e.name===t));if(void 0!==s)return!0===s.sunk}}}(()=>{const i=new e,s=new t("carrier",5),r=new t("battleship",4),a=new t("cruiser",3),h=new t("submarine",3),c=new t("destroyer",2);i.placeShip(s,0,0,!1),i.placeShip(r,1,0,!1),i.placeShip(a,2,0,!1),i.placeShip(h,3,0,!1),i.placeShip(c,4,0,!1),i.receiveAttack(0,0),i.receiveAttack(0,1),i.receiveAttack(0,2),i.receiveAttack(0,3),i.receiveAttack(0,4),i.receiveAttack(1,0),i.receiveAttack(1,1),i.receiveAttack(1,2),i.receiveAttack(1,3),i.receiveAttack(2,0),i.receiveAttack(2,1),i.receiveAttack(2,2),i.receiveAttack(3,0),i.receiveAttack(3,1),i.receiveAttack(3,2),i.receiveAttack(4,0),i.receiveAttack(4,1),console.log(i),console.log(i.isBoatSunk("battleship"))})()})();